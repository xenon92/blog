
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>Source Code Management</title>
    <meta name="description" content="">

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="../assets/css/style.css?v=4426e4b670">

    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/images/apple-touch-icon-144x144-precomposed.png?v=4426e4b670">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/images/apple-touch-icon-114x114-precomposed.png?v=4426e4b670">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/images/apple-touch-icon-72x72-precomposed.png?v=4426e4b670">
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../assets/images/apple-touch-icon-57x57-precomposed.png?v=4426e4b670">
    <link rel="apple-touch-icon-precomposed" href="../assets/images/apple-touch-icon-precomposed.png?v=4426e4b670">
    <link rel="apple-touch-icon" href="../assets/images/apple-touch-icon.png?v=4426e4b670">
    <link rel="icon" type="image/x-icon" href="../assets/images/favicon.ico?v=4426e4b670">
    <link rel="shortcut icon" type="image/x-icon" href="../assets/images/favicon.ico?v=4426e4b670">

    <link rel="canonical" href="http://blog.shubhangrathore.com/source-code-management/">
    <meta name="referrer" content="origin">
    
    <meta property="og:site_name" content="Shubhang Rathore">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Source Code Management">
    <meta property="og:description" content="As a developer, I have come across many source codes, developers and the way they maintain their code. Following are few best practices that a developer should follow for maintaining the source code of their app, software or android ROM. These practices are more concentrated on the source control management">
    <meta property="og:url" content="http://blog.shubhangrathore.com/source-code-management/">
    <meta property="article:published_time" content="2016-06-18T12:56:53.457Z">
    <meta property="article:modified_time" content="2016-06-18T13:01:34.698Z">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Source Code Management">
    <meta name="twitter:description" content="As a developer, I have come across many source codes, developers and the way they maintain their code. Following are few best practices that a developer should follow for maintaining the source code of their app, software or android ROM. These practices are more concentrated on the source control management">
    <meta name="twitter:url" content="http://blog.shubhangrathore.com/source-code-management/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Shubhang Rathore">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Shubhang Rathore",
        "logo": "http://blog.shubhangrathore.com/content/images/2014/Jul/X-new---padded-1.png"
    },
    "author": {
        "@type": "Person",
        "name": "Shubhang Rathore",
        "image": "http://blog.shubhangrathore.com/content/images/2016/06/X-new---padded.png",
        "url": "http://blog.shubhangrathore.com/author/shubhang/",
        "sameAs": [
            "http://shubhangrathore.com"
        ],
        "description": "My ideas, my code, my design"
    },
    "headline": "Source Code Management",
    "url": "http://blog.shubhangrathore.com/source-code-management/",
    "datePublished": "2016-06-18T12:56:53.457Z",
    "dateModified": "2016-06-18T13:01:34.698Z",
    "description": "As a developer, I have come across many source codes, developers and the way they maintain their code. Following are few best practices that a developer should follow for maintaining the source code of their app, software or android ROM. These practices are more concentrated on the source control management"
}
    </script>

    <meta name="generator" content="Ghost 0.8">
    <link rel="alternate" type="application/rss+xml" title="Shubhang Rathore" href="http://blog.shubhangrathore.com/rss/">

</head>
<body class="post-template">
<div id="main-content" role="main" class="pure-g-r">
    <aside id="main-sidebar" class="pure-u-1-2" style="background-image:url(../content/images/2014/Jul/wallpaper-2440368.jpg)">
        <section class="sidebar-data-holder">
    <div class="spinner" role="spinner"><div class="spinner-icon"></div></div>
    <nav class="main-nav">
        <button class="nav-control"><i class="icon-hamburguer"></i></button>
        <a href="../" title="Go to Home">Home</a>
<a href="http://shubhangrathore.com" target="_blank">Website</a>
<a href="https://github.com/xenon92" target="_blank">Github</a>

<!--
<a href="/about" title="Go to About">About</a>
-->    </nav>
    <div class="logo"><a href="../" title="Back to home">Shubhang Rathore</a></div>                

    <!-- Author info -->
            <div class="author">
    <figure class="author-avatar"><img class="avatar-image" src="../content/images/2016/06/X-new---padded.png" alt=""></figure>
    <header class="author-name">Shubhang Rathore</header>
    <p class="author-bio">My ideas, my code, my design</p>
    
</div>
    <!-- Social media badges -->
    <menu class="social-media-share">

    <a href="http://google.com/+ShubhangRathore" class="icon-googleplus" rel="external" title="My Google+"></a>
    <a href="https://github.com/xenon92" class="icon-github" rel="external" title="My GitHub"></a>

<!--
    <a href="#" class="icon-facebook" rel="external" title="My Facebook"></a>
    <a href="#" class="icon-twitter" rel="external" title="My Twitter"></a>

    <a href="#" class="icon-flickr" rel="external" title="My Flickr"></a>
    <a href="#" class="icon-linkedin" rel="external" title="My LinkedIn"></a>
    <a href="#" class="icon-pinterest" rel="external" title="My Pinterest"></a>
    <a href="#" class="icon-vimeo" rel="external" title="My Vimeo"></a>

    <a href="#" class="icon-dribbble" rel="external" title="My Dribbble"></a>
    <a href="#" class="icon-stumbleupon" rel="external" title="My Stumbleupon"></a>
    <a href="#" class="icon-lastfm" rel="external" title="My Lastfm"></a>
    <a href="#" class="icon-rdio" rel="external" title="My Rdio"></a>
    <a href="#" class="icon-youtube" rel="external" title="My YouTube"></a>
    <a href="#" class="icon-mail" rel="external" title="My Mail"></a>
    <a href="#" class="icon-feed" rel="external" title="My RSS Feed"></a>
-->
</menu>
    
    <footer id="main-footer">
    <p>Â© 2014 - 2015 Shubhang Rathore</p></footer>
</section>
    </aside>
    <section id="main" class="pure-u-1-2">
            <article class="post">
        
        <header class="post-header">
            <h1>Source Code Management</h1>
            
            <!-- Post meta -->
            <menu class="post-meta">
    <div class="post-meta-data"><i class="icon-datetime"></i> 18th June, 2016</div>
    <!--<div class="post-meta-data"><i class="icon-shortlink"></i> <a href="#">BIT.LY/1ES1TCF</a></div>-->
    
</menu>        </header>

        <div class="post-content">
            <p>As a developer, I have come across many source codes, developers and the way they maintain their code. Following are few best practices that a developer should follow for maintaining the source code of their app, software or android ROM. These practices are more concentrated on the source control management (SCM) software git and the android source code.</p>

<p>In the parallel universe of software development, there are three groups of people that interact.</p>

<ul>
<li><p>Users - Everyone cares about <strong>stability</strong>. If the android ROM (or an app or a software) you compile isn't stable, users will be quick to switch to some other alternative that provides them with stability on a day-to-day basis.</p></li>
<li><p>Developers - If you want other developers to take notice of your developments and contribute to it, you need to keep the source <strong>clean</strong>. They care about the source code more.</p></li>
<li><p>Testers - They are developers' best friends. They test the development and provide feedback to developers to improve upon their source.</p></li>
</ul>

<h2 id="howtomakepropercommits">HOW TO MAKE PROPER COMMITS?  </h2>

<p>Consider every commit as a piece of art. The commits you make show your understanding of git and other version control software.</p>

<p>Give this <a href="https://github.com/torvalds/linux/pull/17#issuecomment-5654674">conversation</a> a read. Linux Torvalds is the developer of the software "git". He is also the creator of the "linux kernel".</p>

<p>Developers should follow a few guidelines to make proper commits.</p>

<ul>
<li>Don't be in a hurry to push commits online. Take your time on your local machine with your commit. Once it is pushed, there is nothing you can do about it (you can, but it increases an avoidable re-work).</li>
<li>Avoid using Github's online commit maker. It is just a mess.</li>
<li>Do not make 10 commits for the same feature/change you are trying to implement. Add all files you changed in one single commit or merge your commits before pushing them online.</li>
<li>Give a proper explanation of what you changed, why you changed it and what does the change do? Commit description should be elaborating, so that the other person doesn't have to click on your commit to see what you did, but gets all the info from your commit summary.</li>
<li>Keep the one line commit header short. It should be less than 50 character. Write the longer explanation in commit summary.</li>
<li>Don't make lines longer than 80 characters in commit summary. Break long lines into new lines.</li>
<li>Don't push any commit that changes thousands of files. It becomes almost impossible to track what has changed.</li>
<li>Add few commits at a time, build and test your changes. Then add more. It makes no sense to add 20-30 commits and then tracking back what went wrong.</li>
</ul>

<p>In android source, it is always a good habit to mention the repo in the commit. As an example, if you are making a commit to vendor/cm. This makes it easier to read in the list of hundreds of commits in gerrit.</p>

<pre><code>git add -A

git commit -m "vendor/cm: this is my change

this is the commit summary broken into new lines  
because the lines were longer. You obviously dont  
have to count the number of characters, just get  
an idea of how to do it."
</code></pre>

<h2 id="howtoupdateandroidsourcewithupstreamcommits">HOW TO UPDATE ANDROID SOURCE WITH UPSTREAM COMMITS?  </h2>

<p>Don't use pull requests. The proper way to do this is from command line.</p>

<ul>
<li>Merge commits.</li>
<li>Cherry-pick commits.</li>
</ul>

<p>Change directory to the repo source you want to update.</p>

<pre><code>git remote add cm path_to_cm_repo_online

git fetch cm

git cherry-pick commitID1..commitiID2  
OR  
git cherry-pick commitID
</code></pre>

<p>If you get merge conflict while merging/cherry-picking, don't ignore it. Abort the merge/cherry-pick with command on your terminal.</p>

<ul>
<li>Rebase the commit you match your source manually.</li>
<li>Then, merge again.</li>
</ul>

<p>There <em>should not</em> be a commit that says "Fix merge conflicts" - where you remove &gt;&gt;&gt;&gt;&gt;HEAD, etc.</p>

<p>If in middle of cherry-pick or merge, error comes, do the following:</p>

<pre><code>git status
</code></pre>

<p>That will show you which files have been successfully changed and which ones are not by red color. Then open those red files and fix them manually. After you are finished:</p>

<pre><code>git add -A

git commit
</code></pre>

<p>Then nano will open in command line</p>

<pre><code>Press CTRL+O ENTER then CTRL+X
</code></pre>

<p>Done.</p>

<h2 id="someusefulcommands">SOME USEFUL COMMANDS  </h2>

<p>I do not consider myself as a git virtuoso, but these commands come in handy and increase the overall productivity.</p>

<pre><code>git format-patch -1 commitid

git format-patch HEAD~7
</code></pre>

<p>The second commande creates patch files for all the previous 7 commits from your HEAD (last) commit.</p>

<pre><code>git reset --hard HEAD~1
</code></pre>

<p>This removes your current commit and rolls back to the previous commit</p>

<pre><code>git commit --amend
</code></pre>

<p>This is to amend the last commit you made.</p>

<pre><code>git log

git rebase -i HEAD~&lt;# of commits&gt;
</code></pre>

<p>This is to squash multiple commits into one commit.</p>

<p><strong>KEEP THE SOURCE CODE CLEAN.</strong></p>
        </div>

    </article>

    <!-- Google+ Comments -->
    <section class="comments">
	<div id="post_20_comments"></div><script>(function () {var c = document.getElementById('post_20_comments'),w = c.offsetWidth; c.innerHTML = '<div class="g-comments" data-href="http://blog.shubhangrathore.com/source-code-management/" data-width="' + w + '" data-first_party_property="BLOGGER" data-view_type="FILTERED_POSTMOD"></div>';})();</script>
    </section>
    

    </section>
</div>



<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://127.0.0.1:2368/source-code-management/assets/js/vendor/jquery-1.10.2.min.js"><\/script>')</script>
<script src="../assets/js/plugins/jquery.fitvids.js?v=4426e4b670"></script>
<script src="../assets/js/script.js?v=4426e4b670"></script>
    <script async type="text/javascript" src="http://apis.google.com/js/plusone.js?callback=gpcb"></script>
</body>
